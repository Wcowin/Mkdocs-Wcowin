---
title: MkDocsæ–‡æ¡£æ—¥æœŸæ’ä»¶
tags:
  - Mkdocs
status: new
---

# MkDocsæ–‡æ¡£æ—¥æœŸæ’ä»¶â€”â€”mkdocs-document-dates


æ–°ä¸€ä»£ç”¨äºæ˜¾ç¤ºæ–‡æ¡£ç²¾ç¡®å…ƒä¿¡æ¯çš„ MkDocs æ’ä»¶ï¼Œå¦‚**åˆ›å»ºæ—¶é—´ã€æœ€åæ›´æ–°æ—¶é—´ã€ä½œè€…ã€ç”µå­é‚®ä»¶**ç­‰    

![render.gif](https://s2.loli.net/2025/08/01/5Eire2mCTD7IBHo.gif)

<div class="intro-container">
  <div class="intro-content">
    <div class="intro-text">
      <span class="greeting">ä»“åº“åœ°å€ï¼š<a href="https://github.com/jaywhj/mkdocs-document-dates" class="contributor-link">Aaron</a><span class="wave">ğŸ‘‹</span></span>
    </div>
  </div>
</div>

<style>
.intro-container {
  background: linear-gradient(145deg, rgba(255,255,255,0.8) 0%, rgba(240,240,240,0.6) 100%);
  border-radius: 16px;
  padding: 2rem;
  margin: 2rem 0;
  box-shadow: 0 4px 20px rgba(0,0,0,0.05);
  border: 1px solid rgba(200,200,200,0.2);
  transition: all 0.3s ease;
}

.intro-container:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 25px rgba(0,0,0,0.1);
}

.intro-content {
  display: flex;
  align-items: center;
  justify-content: center;
}

.intro-text {
  text-align: center;
}

.greeting {
  display: block;
  font-size: 1.5rem;
  line-height: 1.6;
  color: #555;
}

.contributor-link {
  color: #608DBD;
  text-decoration: none;
  font-weight: bold;
  padding: 0.2rem 0.4rem;
  border-radius: 6px;
  transition: all 0.3s ease;
}

.contributor-link:hover {
  background-color: rgba(96, 141, 189, 0.1);
  color: #4a7ba7;
  text-decoration: none;
}

.wave {
  display: inline-block;
  animation: wave 1.5s infinite;
  transform-origin: 70% 70%;
}

@keyframes wave {
  0% { transform: rotate(0deg); }
  10% { transform: rotate(14deg); }
  20% { transform: rotate(-8deg); }
  30% { transform: rotate(14deg); }
  40% { transform: rotate(-4deg); }
  50% { transform: rotate(10deg); }
  60% { transform: rotate(0deg); }
  100% { transform: rotate(0deg); }
}

/* æ·±è‰²æ¨¡å¼é€‚é… */
[data-md-color-scheme="slate"] .intro-container {
  background: linear-gradient(145deg, rgba(31,33,40,0.9) 0%, rgba(31,33,40,0.8) 100%);
  border: 1px solid rgba(80,80,80,0.2);
}

[data-md-color-scheme="slate"] .greeting {
  color: #e0e0e0;
}

[data-md-color-scheme="slate"] .contributor-link {
  color: #7BA7D7;
}

[data-md-color-scheme="slate"] .contributor-link:hover {
  background-color: rgba(123, 167, 215, 0.1);
  color: #A8C5E5;
}

/* ç§»åŠ¨ç«¯é€‚é… */
@media (max-width: 768px) {
  .intro-container {
    padding: 1.5rem;
    margin: 1.5rem 0;
  }

  .greeting {
    font-size: 1.3rem;
  }
}
</style>

## ç‰¹æ€§

- å§‹ç»ˆæ˜¾ç¤ºæ–‡æ¡£çš„**ç²¾ç¡®**å…ƒä¿¡æ¯ï¼Œä¸”é€‚ç”¨äºä»»ä½•ç¯å¢ƒï¼ˆæ—  Gitã€Git ç¯å¢ƒã€Docker å®¹å™¨ã€æ‰€æœ‰ CI/CD æ„å»ºç³»ç»Ÿç­‰ï¼‰
- æ”¯æŒåˆ—è¡¨æ˜¾ç¤ºæœ€è¿‘æ›´æ–°çš„æ–‡æ¡£ï¼ˆæŒ‰æ›´æ–°æ—¥æœŸé™åºæ’åˆ—ï¼‰
- æ”¯æŒåœ¨ `Front Matter` ä¸­æ‰‹åŠ¨æŒ‡å®šæ—¥æœŸå’Œä½œè€…
- æ”¯æŒå¤šç§æ—¥æœŸæ ¼å¼ï¼ˆdateã€datetimeã€timeagoï¼‰
- æ”¯æŒå¤šç§ä½œè€…æ¨¡å¼ï¼ˆå¤´åƒã€æ–‡æœ¬ã€éšè—ï¼‰
- æ”¯æŒæ‰‹åŠ¨é…ç½®ä½œè€…çš„å§“åã€é“¾æ¥ã€å¤´åƒã€é‚®ç®±ç­‰
- çµæ´»çš„æ˜¾ç¤ºä½ç½®ï¼ˆé¡¶éƒ¨æˆ–åº•éƒ¨ï¼‰
- ä¼˜é›…çš„æ ·å¼è®¾è®¡ï¼ˆå®Œå…¨å¯å®šåˆ¶ï¼‰
- æ™ºèƒ½ Tooltip æ‚¬æµ®æç¤º
- å¤šè¯­è¨€æ”¯æŒï¼Œæœ¬åœ°åŒ–æ”¯æŒï¼Œæ™ºèƒ½è¯†åˆ«ç”¨æˆ·è¯­è¨€ï¼Œè‡ªåŠ¨é€‚é…
- è·¨å¹³å°æ”¯æŒï¼ˆWindowsã€macOSã€Linuxï¼‰
- **æè‡´çš„æ„å»ºæ•ˆç‡**ï¼šO(1)ï¼Œæ— éœ€è®¾ç½®ç¯å¢ƒå˜é‡ `!ENV` æ¥åŒºåˆ«è¿è¡Œ

    | æ„å»ºé€Ÿåº¦å¯¹æ¯”ï¼š                | 100ä¸ªmdï¼š | 1000ä¸ªmdï¼š | æ—¶é—´å¤æ‚åº¦ï¼š |
    | --------------------------- | :------: | :-------: | :---------: |
    | git-revision-date-localized<br /><br />git-authors |  <br />ï¼ 3 s   |  <br />ï¼ 30 s   |    <br />O(n)    |
    | document-dates              | ï¼œ 0.1 s  | ï¼œ 0.15 s  |    O(1)     |

## å®‰è£…

```bash
pip install mkdocs-document-dates
```

## é…ç½®

åœ¨ä½ çš„ mkdocs.yml ä¸­æ·»åŠ æ’ä»¶å³å¯ï¼š

```yaml
plugins:
  - document-dates
```

æˆ–è€…ï¼Œå®Œæ•´é…ç½®ï¼š

```yaml
plugins:
  - document-dates:
      position: top            # æ˜¾ç¤ºä½ç½®: top(æ ‡é¢˜å) bottom(æ–‡æ¡£æœ«å°¾), é»˜è®¤: top
      type: date               # æ—¥æœŸç±»å‹: date datetime timeago, é»˜è®¤: date
      exclude:                 # æ’é™¤æ–‡ä»¶åˆ—è¡¨
        - temp.md                  # ç¤ºä¾‹ï¼šæ’é™¤æŒ‡å®šæ–‡ä»¶
        - blog/*                   # ç¤ºä¾‹ï¼šæ’é™¤ blog ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬å­ç›®å½•
      date_format: '%Y-%m-%d'  # æ—¥æœŸæ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚: %Yå¹´%mæœˆ%dæ—¥ã€%b %d, %Yï¼‰
      time_format: '%H:%M:%S'  # æ—¶é—´æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ˆä»…åœ¨ type=datetime æ—¶æœ‰æ•ˆï¼‰
      show_created: true       # æ˜¾ç¤ºåˆ›å»ºæ—¥æœŸ: true false, é»˜è®¤: true
      show_updated: true       # æ˜¾ç¤ºæœ€åæ›´æ–°æ—¥æœŸ: true false, é»˜è®¤: true
      show_author: true        # æ˜¾ç¤ºä½œè€…: true(å¤´åƒ) text(æ–‡æœ¬) false(éšè—), é»˜è®¤: true
```

## æŒ‡å®šæ—¥æœŸæ—¶é—´

### ä¼˜å…ˆçº§

æ’ä»¶ä¼šæŒ‰ä»¥ä¸‹é¡ºåº**è‡ªåŠ¨åŠ è½½**æ–‡æ¡£çš„åˆ›å»ºæ—¥æœŸå’Œæœ€åæ›´æ–°æ—¥æœŸ

```mermaid
%%{init: {'theme': 'default', 'themeVariables': {'fontSize': '12px'}}}%%
flowchart LR
    A(1.Front Matter)
    B(2.ç¼“å­˜æ–‡ä»¶)
    C(3.Gitæ—¶é—´æˆ³)
    D(4.æ–‡ä»¶æ—¶é—´æˆ³)
    A -.åˆ›å»ºæ—¥æœŸ.-> B -.-> C -.-> D
    A -.æœ€åæ›´æ–°æ—¥æœŸ.-> C
```

<!--
- [x] åˆ›å»ºæ—¥æœŸï¼š`Front Matter` > `ç¼“å­˜æ–‡ä»¶` > `Gitæ—¶é—´æˆ³` > `æ–‡ä»¶æ—¶é—´æˆ³`
- [x] æœ€åæ›´æ–°ï¼š`Front Matter` > `Gitæ—¶é—´æˆ³` > `æ–‡ä»¶æ—¶é—´æˆ³`
-->

!!! quote ""

    === "åˆ›å»ºæ—¥æœŸ"
    
        1. ä¼˜å…ˆè¯»å– Front Matter ä¸­çš„è‡ªå®šä¹‰åˆ›å»ºæ—¥æœŸ
        2. å…¶æ¬¡è¯»å–ç¼“å­˜æ–‡ä»¶ä¸­çš„åˆ›å»ºæ—¥æœŸ
        3. å†æ¬¡è¯»å–æ–‡æ¡£ã€Œé¦–æ¬¡ git commit æ—¥æœŸã€ä½œä¸ºåˆ›å»ºæ—¥æœŸ
        4. æœ€åè¯»å–æ–‡ä»¶çš„åˆ›å»ºæ—¶é—´
    
    === "æœ€åæ›´æ–°æ—¥æœŸ"
    
        1. ä¼˜å…ˆè¯»å– Front Matter ä¸­çš„è‡ªå®šä¹‰æœ€åæ›´æ–°æ—¥æœŸ
        2. å…¶æ¬¡è¯»å–æ–‡æ¡£ã€Œæœ€è¿‘ä¸€æ¬¡ git commit æ—¥æœŸã€ä½œä¸ºæœ€åæ›´æ–°æ—¥æœŸ
        3. æœ€åè¯»å–æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´

### è‡ªå®šä¹‰æ—¥æœŸ

å¯åœ¨ Front Matter ä¸­é€šè¿‡ä»¥ä¸‹å­—æ®µæ‰‹åŠ¨æŒ‡å®š

- åˆ›å»ºæ—¥æœŸï¼š`created`, `date`
- æœ€åæ›´æ–°ï¼š`updated`, `modified`

```yaml
---
created: 2023-01-01
updated: 2025-02-23
---
```

### è‡ªåŠ¨ç¼“å­˜åˆ›å»ºæ—¥æœŸ

æ’ä»¶ä¼šè‡ªåŠ¨ç¼“å­˜åˆ›å»ºæ—¥æœŸï¼ˆæœ€åæ›´æ–°æ—¥æœŸä¸å¿…ç¼“å­˜ï¼‰ï¼Œä»¥ä¸‹æ˜¯å®ƒçš„åŸç†ï¼š

1) ä¸ºäº†å§‹ç»ˆèƒ½è·å–æ–‡æ¡£çš„åŸå§‹åˆ›å»ºæ—¥æœŸï¼ˆæ—©äºç¬¬ä¸€æ¬¡ git æäº¤ï¼‰ï¼Œé‡‡ç”¨äº†ç¼“å­˜æ–‡ä»¶æ¥å­˜å‚¨åŸå§‹åˆ›å»ºæ—¥æœŸï¼Œä½äº docs ç›®å½•ä¸‹ï¼ˆé»˜è®¤æ˜¯éšè—çš„ï¼‰ï¼Œè¯·ä¸è¦åˆ é™¤ï¼š

- `docs/.dates_cache.jsonl`ï¼Œç¼“å­˜æ–‡ä»¶
- `docs/.gitattributes`ï¼Œç¼“å­˜æ–‡ä»¶çš„åˆå¹¶æœºåˆ¶

2) é‡‡ç”¨äº† Git Hooks æœºåˆ¶æ¥è‡ªåŠ¨è§¦å‘ç¼“å­˜çš„å­˜å‚¨ï¼ˆåœ¨ä½ æ¯æ¬¡æ‰§è¡Œ `git commit` æ—¶ï¼‰ï¼Œç¼“å­˜æ–‡ä»¶ä¹Ÿä¼šéšä¹‹è‡ªåŠ¨æäº¤ï¼Œå¹¶ä¸” Git Hooks çš„å®‰è£…åœ¨æ’ä»¶è¢«å®‰è£…æ—¶ä¹Ÿä¼šè‡ªåŠ¨è§¦å‘ï¼Œå…¨ç¨‹æ— éœ€ä»»ä½•æ‰‹åŠ¨å¹²é¢„

- è¯·ç¡®ä¿æ˜¯ä»ç»ˆç«¯æ‰§è¡Œ `git commit`ï¼Œè€Œä¸æ˜¯ä» VSCode ä¹‹ç±»çš„é›†æˆå·¥å…·ä¸­ï¼Œå› ä¸ºè¿™äº›å·¥å…·åœ¨é›†æˆ Git hooks æ—¶å­˜åœ¨ bug

å›é€€ç­–ç•¥ï¼šå¦‚æœç¼“å­˜æ–‡ä»¶ä¸å­˜åœ¨æˆ–è‡ªåŠ¨ç¼“å­˜å¤±è´¥ï¼Œåˆ›å»ºæ—¥æœŸä¹Ÿä¸ä¼šå—åˆ°å½±å“ï¼Œå®ƒä¼šè¿›å…¥ç¬¬ 3 ä¼˜å…ˆçº§ï¼ˆè¯»å–é¦–æ¬¡ git commit æ—¥æœŸä½œä¸ºåˆ›å»ºæ—¥æœŸï¼‰

### é€‚é…ä»»æ„ç¯å¢ƒ

æ’ä»¶åœ¨ä»»æ„ç¯å¢ƒä¸­å‡èƒ½è·å–æ–‡æ¡£çš„**åŸå§‹**ç²¾å‡†æ—¥æœŸï¼Œæ”¯æŒæ—  Git ç¯å¢ƒã€Git ç¯å¢ƒã€Docker å®¹å™¨ã€æ‰€æœ‰ CI/CD æ„å»ºç³»ç»Ÿç­‰ï¼Œä»¥ä¸‹æ˜¯å®ƒçš„åŸç†ï¼š

1. é‡‡ç”¨æ–‡ä»¶æ—¶é—´æˆ³ï¼šç¡®ä¿èƒ½åœ¨æœ¬åœ°æ—  Git ç¯å¢ƒä¸­ï¼Œè·å–åŸå§‹çš„å‡†ç¡®æ—¥æœŸ
2. é‡‡ç”¨ Git æ—¶é—´æˆ³ï¼šç¡®ä¿èƒ½åœ¨ Git ç¯å¢ƒä¸­ï¼Œè·å–ç›¸å¯¹å‡†ç¡®çš„æ—¥æœŸ
3. é‡‡ç”¨ç¼“å­˜æ–‡ä»¶ï¼šç¡®ä¿èƒ½åœ¨ Git ç¯å¢ƒä¸­ï¼Œè·å–åŸå§‹çš„ç»å¯¹å‡†ç¡®æ—¥æœŸ
4. Front Matterï¼šå¦‚æœä½ ä¸æƒ³é‡‡ç”¨è‡ªåŠ¨åŒ–æ—¥æœŸï¼Œåˆ™å¯ä»¥åœ¨ Front Matter ä¸­è¿›è¡Œä¸ªæ€§åŒ–è‡ªå®šä¹‰

## æŒ‡å®šä½œè€…

### ä¼˜å…ˆçº§

æ’ä»¶ä¼šæŒ‰ä»¥ä¸‹é¡ºåº**è‡ªåŠ¨åŠ è½½**æ–‡æ¡£çš„ä½œè€…ä¿¡æ¯ï¼Œä¼šè‡ªåŠ¨è§£æé‚®ä»¶ååšé“¾æ¥

```mermaid
%%{init: {'theme': 'default', 'themeVariables': {'fontSize': '12px'}}}%%
flowchart LR
    A(1.Front Matter)
    B(2.Gitä½œè€…)
    C(3.site_author)
    D(4.PCç”¨æˆ·å)
    A -.-> B -.-> C -.-> D
```

<!--
- [x] `Front Matter` > `Gitä½œè€…` > `site_author(mkdocs.yml)` > `PCç”¨æˆ·å`
-->

!!! quote ""

    === "é¡ºåºè¯´æ˜"
    
        1. ä¼˜å…ˆè¯»å– Front Matter ä¸­çš„è‡ªå®šä¹‰ä½œè€…
        2. å…¶æ¬¡è¯»å– Git ä½œè€…
        3. å†æ¬¡è¯»å– mkdocs.yml ä¸­çš„ site_author
        4. æœ€åè¯»å– PCç”¨æˆ·å

### è‡ªå®šä¹‰ä½œè€…

å¯åœ¨ Front Matter ä¸­é€šè¿‡ä»¥ä¸‹æ–¹å¼é…ç½®ï¼š

1) é…ç½®ä¸€ä¸ªç®€å•ä½œè€…ï¼šé€šè¿‡å­—æ®µ `name`

```yaml
---
name: any-name
email: e-name@gmail.com
---
```

2) é…ç½®ä¸€ä¸ªæˆ–å¤šä¸ªä½œè€…ï¼šé€šè¿‡å­—æ®µ `authors`

```yaml
---
authors:
  - jaywhj
  - dawang
  - sunny
---
```

### å¢å¼ºä½œè€…é…ç½®

å¯ä¸ºæ‰€æœ‰ä½œè€…è¡¥å……å®Œæ•´ä¿¡æ¯é…ç½®ï¼Œä»¥ä¸°å¯Œç”¨æˆ·ä½“éªŒã€‚åœ¨ `docs/` ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `authors.yml` æ–‡ä»¶ï¼Œæ ¼å¼å‚è€ƒï¼š

```yaml title="docs/authors.yml"
authors:
  jaywhj:
    name: Aaron Wang
    avatar: https://xxx.com/avatar.jpg
    url: https://jaywhj.netlify.app/
    email: junewhj@qq.com
    description: Minimalism
  user2:
    name: xxx
    avatar: assets/avatar.png
    url: https://xxx.com
    email: xxx@gmail.com
    description: xxx
```

å½“ `Front Matter`ã€`Gitä½œè€…`ã€`site_author(mkdocs.yml)` ä¸­çš„ä½œè€…åè·Ÿ authors ä¸­çš„ key åŒ¹é…æ—¶ï¼Œä¼šè‡ªåŠ¨åŠ è½½ key å¯¹åº”çš„å®Œæ•´ä½œè€…ä¿¡æ¯

### Gitä½œè€…èšåˆ

Gitä½œè€…æ”¯æŒè´¦æˆ·èšåˆï¼Œå³åŒä¸€äººçš„å¤šä¸ªä¸åŒé‚®ç®±è´¦æˆ·å¯èšåˆæ˜¾ç¤ºä¸ºåŒä¸€ä½œè€…ï¼Œå¯é€šè¿‡åœ¨ä»“åº“æ ¹ç›®å½•æä¾›ä¸€ä¸ª `.mailmap` æ–‡ä»¶æ¥é…ç½®ï¼Œè¯¦æƒ…è§ [gitmailmap](https://git-scm.com/docs/gitmailmap)

ä»¥ä¸‹ç¤ºä¾‹å°† gmail è´¦æˆ·èšåˆåˆ° qq è´¦æˆ·ï¼Œç»Ÿä¸€æ˜¾ç¤ºä¸º Aaronï¼š

```yaml title=".mailmap"
Aaron <junewhj@qq.com> <aaron@gmail.com>
```

## æŒ‡å®šå¤´åƒ

**ä¼˜å…ˆçº§**ï¼šæ’ä»¶ä¼šæŒ‰ä»¥ä¸‹é¡ºåº**è‡ªåŠ¨åŠ è½½**ä½œè€…å¤´åƒ

```mermaid
%%{init: {'theme': 'default', 'themeVariables': {'fontSize': '12px'}}}%%
flowchart LR
    A(1.Front Matter)
    B(2.GitHubå¤´åƒ)
    C(3.å§“åå­—ç¬¦å¤´åƒ)
    A -.-> B -.-> C
```

<!--
- [x] `Front Matter` > `GitHubå¤´åƒ` > `å§“åå­—ç¬¦å¤´åƒ`
-->

**è‡ªå®šä¹‰**ï¼š

å¯é€šè¿‡ [å¢å¼ºä½œè€…é…ç½®]ä¸­çš„ `avatar` å­—æ®µè¿›è¡Œè‡ªå®šä¹‰ï¼ˆæ”¯æŒ URL è·¯å¾„å’Œæœ¬åœ°æ–‡ä»¶è·¯å¾„ï¼‰

**å…¶å®ƒ**ï¼š

!!! quote ""

    === "GitHubå¤´åƒ"
    
        è§£æ mkdocs.yml ä¸­çš„ `repo_url` å±æ€§è‡ªåŠ¨åŠ è½½ï¼Œæ— éœ€å•ç‹¬é…ç½®
    
    === "å§“åå­—ç¬¦å¤´åƒ"
    
        æ ¹æ®ä½œè€…å§“åè‡ªåŠ¨ç”Ÿæˆï¼Œè§„åˆ™å¦‚ä¸‹ï¼š
        1. æå– initialsï¼šè‹±æ–‡å–é¦–å­—æ¯ç»„åˆï¼Œä¸­æ–‡å–é¦–å­—
        2. ç”ŸæˆåŠ¨æ€èƒŒæ™¯è‰²ï¼šåŸºäºåå­—å“ˆå¸Œå€¼ç”Ÿæˆ HSL é¢œè‰²

## è®¾ç½®æ’ä»¶æ ·å¼

å¯é€šè¿‡é¢„ç½®å…¥å£å¿«é€Ÿè®¾ç½®æ’ä»¶æ ·å¼ï¼Œæ¯”å¦‚**å›¾æ ‡ã€ä¸»é¢˜ã€é¢œè‰²ã€å­—ä½“ã€åŠ¨ç”»ã€åˆ†ç•Œçº¿**ç­‰ï¼Œä½ åªéœ€è¦æ‰¾åˆ°ä¸‹æ–¹æ–‡ä»¶å–æ¶ˆé‡Œé¢çš„æ³¨é‡Šå³å¯ï¼š

|    ç±»åˆ«ï¼š    | ä½ç½®ï¼š                                         |
| :---------: | --------------------------------------------- |
| **æ ·å¼ä¸ä¸»é¢˜** | docs/assets/document_dates/user.config.css |
| **å±æ€§ä¸åŠŸèƒ½** | docs/assets/document_dates/user.config.js  |

![customization.gif](https://s2.loli.net/2025/08/01/6axDBwOJ5Hpyoh9.gif)

## æ·»åŠ æœ¬åœ°åŒ–è¯­è¨€

æ’ä»¶çš„ `tooltip` å’Œ `timeago` å†…ç½®äº†å¤šè¯­è¨€æ”¯æŒï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨è¯†åˆ« `locale`ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚å¦‚æœ‰è¯­è¨€ç¼ºå¤±ï¼Œåˆ™å¯ä¸ºå®ƒä»¬è¡¥å……ï¼š

**tooltip**

å†…ç½®è¯­è¨€ï¼š`en zh zh_TW es fr de ar ja ko ru nl pt`

è¡¥å……æ–¹å¼ï¼ˆ2é€‰1ï¼‰ï¼š

- åœ¨ `user.config.js` ä¸­ï¼Œå‚è€ƒ [Part 3](https://github.com/jaywhj/mkdocs-document-dates/blob/main/mkdocs_document_dates/static/config/user.config.js)ï¼Œè‡ªè¡Œæ³¨å†Œæ·»åŠ 
- æäº¤ PR ä»¥ä¾›çº³å…¥

**timeago**

å½“è®¾ç½® `type: timeago` æ—¶ï¼Œå°†å¯ç”¨ timeago.js åº“ä»¥è¿›è¡ŒåŠ¨æ€æ—¶é—´æ¸²æŸ“ï¼Œ`timeago.min.js` å†…ç½®çš„è¯­è¨€ä»…åŒ…å« `en zh`ï¼Œå¦‚éœ€åŠ è½½å…¶ä»–è¯­è¨€ï¼Œå¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼é…ç½®ï¼ˆ2é€‰1ï¼‰ï¼š

- åœ¨ `user.config.js` ä¸­ï¼Œå‚è€ƒ [Part 2](https://github.com/jaywhj/mkdocs-document-dates/blob/main/mkdocs_document_dates/static/config/user.config.js)ï¼Œè‡ªè¡Œæ³¨å†Œæ·»åŠ 
- åœ¨ `mkdocs.yml` ä¸­ï¼Œé…ç½® full ç‰ˆæœ¬çš„ `timeago.full.min.js`ï¼Œä¸€æ¬¡æ€§é‡è½½ [æ‰€æœ‰åŒºåŸŸè¯­è¨€](https://github.com/hustcc/timeago.js/tree/master/src/lang)
    ```yaml
    extra_javascript:
      - assets/document_dates/core/timeago.full.min.js
    ```

## ä½¿ç”¨æ¨¡æ¿å˜é‡

ä½ å¯ä»¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨å¦‚ä¸‹å˜é‡è®¿é—®æ–‡æ¡£çš„å…ƒä¿¡æ¯ï¼š

- page.meta.document_dates_created
- page.meta.document_dates_updated
- page.meta.document_dates_authors
- config.extra.recently_updated_docs

åº”ç”¨ç¤ºä¾‹ï¼š

- **ç¤ºä¾‹1**ï¼šä¸ºä½ ç«™ç‚¹çš„ sitemap.xml è®¾ç½®æ­£ç¡®çš„ `lastmod`ï¼Œä»¥ä¾¿æœç´¢å¼•æ“èƒ½æ›´å¥½çš„å¤„ç† SEOï¼Œä»è€Œæé«˜ä½ ç½‘ç«™çš„æ›å…‰ç‡ï¼ˆä¸‹è½½ [sitemap.xml](https://github.com/jaywhj/mkdocs-document-dates/blob/main/templates/overrides/sitemap.xml) åè¦†ç›–ï¼š`docs/overrides/sitemap.xml`ï¼‰
- **ç¤ºä¾‹2**ï¼šåˆ©ç”¨æ¨¡æ¿é‡æ–°å®šåˆ¶æ’ä»¶ï¼Œä½ å¯ä»¥å®Œå…¨æŒæ§æ¸²æŸ“é€»è¾‘ï¼Œæ’ä»¶åªè´Ÿè´£æä¾›æ•°æ®ï¼ˆä¸‹è½½æ¨¡æ¿æ–‡ä»¶ [source-file.html](https://github.com/jaywhj/mkdocs-document-dates/blob/main/templates/overrides/partials/source-file.html) åè¦†ç›–ï¼š`docs/overrides/partials/source-file.html`ï¼Œç„¶åè‡ªç”±å®šåˆ¶æ¨¡æ¿ä»£ç ï¼‰

## æ·»åŠ æœ€è¿‘æ›´æ–°æ¨¡å—

å¯åœ¨ä»»æ„æ¨¡æ¿ä¸­é€šè¿‡ `config.extra.recently_updated_docs` å˜é‡è·å–æœ€è¿‘æ›´æ–°çš„æ–‡æ¡£æ•°æ®ï¼ˆæŒ‰æ›´æ–°æ—¥æœŸé™åºæ’åˆ—ï¼‰ï¼Œç„¶åè‡ªè¡Œå®šåˆ¶æ¸²æŸ“é€»è¾‘

æˆ–è€…å‚è€ƒä»¥ä¸‹ç¤ºä¾‹ï¼Œç›´æ¥ä½¿ç”¨é¢„è®¾æ¨¡æ¿ï¼ˆåˆ—è¡¨æ ‡é¢˜å’Œé“¾æ¥å°†è‡ªåŠ¨æ¸²æŸ“ï¼‰ï¼š

### æ·»åŠ åˆ°ä¾§è¾¹æ å¯¼èˆªä¸­

1) åœ¨ `mkdocs.yml` ä¸­é…ç½®å¼€å…³ recently-updatedï¼š
    ```yaml
    - document-dates:
        ...
        recently-updated:
            limit: 10        # é™åˆ¶æ˜¾ç¤ºçš„æ–‡æ¡£æ•°é‡
            exclude:         # æ’é™¤ä¸æƒ³æ˜¾ç¤ºçš„æ–‡æ¡£
              - index.md
              - blog/*
    ```

2) ä¸‹è½½ [nav.html](https://github.com/jaywhj/mkdocs-document-dates/blob/main/templates/overrides/partials/nav.html) åè¦†ç›– `docs/overrides/partials/nav.html`

### æ·»åŠ åˆ°æ–‡æ¡£çš„ä»»æ„ä½ç½®

1) åœ¨ `mkdocs.yml` ä¸­é…ç½®å¼€å…³ recently-updatedï¼š
    ```yaml
    - document-dates:
        ...
        recently-updated:
            limit: 10        # é™åˆ¶æ˜¾ç¤ºçš„æ–‡æ¡£æ•°é‡
            exclude:         # æ’é™¤ä¸æƒ³æ˜¾ç¤ºçš„æ–‡æ¡£
              - index.md
              - blog/*
    ```

2) åœ¨æ–‡æ¡£ä¸­ä»»æ„ä½ç½®æ’å…¥è¿™ä¸€è¡Œï¼š
    ```yaml
    <!-- RECENTLY_UPDATED_DOCS -->
    ```

### æ•ˆæœé¢„è§ˆ

![recently updated](https://s1.imagehub.cc/images/2025/12/04/b6403890695c481cb5f060fbe5b832ff.png)

å¦‚æœä½ åªæƒ³ä½¿ç”¨ã€Œæœ€è¿‘æ›´æ–°æ¨¡å—ã€ï¼Œä¹Ÿå¯ä»¥å®‰è£…å•ç‹¬çš„æ’ä»¶ [mkdocs-recently-updated-docs](https://github.com/jaywhj/mkdocs-recently-updated-docs)

## å…¶å®ƒæç¤º

åœ¨ Docker ä¸­è¿è¡Œæ—¶ï¼Œéœ€è¦å…ˆè®¾ç½® HOME ç¯å¢ƒå˜é‡ï¼Œå› ä¸ºå®‰è£… Git Hooks éœ€è¦ä¸€ä¸ªå¯å†™çš„ç”¨æˆ·é…ç½®ç›®å½•ã€‚ä¾‹å¦‚ï¼Œåœ¨ä½ çš„ `docker-compose.yml` ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```yaml
environment:
  - HOME=/docs
working_dir: /docs
volumes:
  - ./mkdocs:/docs    # å°†å®¿ä¸»æœºçš„ ./mkdocs æŒ‚è½½åˆ°å®¹å™¨ä¸­çš„ /docs
```

## å¼€å‘å°æ•…äº‹

ä¸€ä¸ªå¯æœ‰å¯æ— ã€å¾®ä¸è¶³é“çš„å°æ’ä»¶ï¼Œæ²¡äº‹çš„æœ‹å‹å¯ä»¥çœ‹çœ‹ \^\_\^ 

- **èµ·æº**ï¼š
    - æ˜¯å› ä¸º [git-revision-date-localized](https://github.com/timvink/mkdocs-git-revision-date-localized-plugin) ï¼Œä¸€ä¸ªå¾ˆæ£’çš„é¡¹ç›®ã€‚åœ¨2024å¹´åº•ä½¿ç”¨æ—¶ï¼Œå‘ç°æˆ‘è¿™æœ¬åœ°ç”¨ä¸äº†ï¼Œå› ä¸ºæˆ‘çš„ mkdocs æ–‡æ¡£æ²¡æœ‰çº³å…¥ git ç®¡ç†ï¼Œç„¶åæˆ‘å°±ä¸ç†è§£ä¸ºä»€ä¹ˆä¸è¯»å–æ–‡ä»¶æ—¶é—´æˆ³ï¼Œè€Œè¦ç”¨ git æ—¶é—´æˆ³ï¼Œè€Œä¸”æ–‡ä»¶æ—¶é—´æˆ³æ›´å‡†ç¡®ï¼Œè¿˜ç»™ä½œè€…æäº† issueï¼Œç»“æœç­‰äº†ä¸€å‘¨å·¦å³æ²¡å¾—åˆ°å›å¤ï¼ˆåé¢ä½œè€…å›å¤äº†ï¼Œäººä¸é”™ï¼Œä¼°è®¡ä»–å½“æ—¶åœ¨å¿™æ²¡æ¥å¾—åŠï¼‰ï¼Œç„¶åå°±æƒ³ï¼Œè¿‡å¹´æœŸé—´æ²¡å•¥äº‹ï¼Œç°åœ¨ AI è¿™ä¹ˆç«ï¼Œè¦ä¸å€ŸåŠ© AI è‡ªå·±è¯•è¯•ï¼Œå°±è¯ç”Ÿäº†ï¼Œè¯ç”Ÿäº2025å¹´2æœˆ
- **è¿­ä»£**ï¼š
    - å¼€å‘åï¼Œå°±ç†è§£äº†ä¸ºä»€ä¹ˆä¸é‡‡ç”¨æ–‡ä»¶æ—¶é—´æˆ³ï¼Œå› ä¸ºæ–‡ä»¶åœ¨ç»è¿‡ git checkout æˆ– git clone æ—¶ä¼šè¢«é‡å»ºï¼Œä»è€Œå¯¼è‡´å…‹éš†æˆ–æ£€å‡ºåçš„åˆ†æ”¯/æ–‡ä»¶çš„åŸå§‹æ—¶é—´æˆ³ä¸¢å¤±ï¼Œè§£å†³åŠæ³•æœ‰å¾ˆå¤šï¼š
        - æ–¹æ³• 1ï¼Œé‡‡ç”¨æœ€è¿‘ä¸€æ¬¡ git commit æ—¥æœŸä½œä¸ºæ–‡æ¡£çš„æœ€åæ›´æ–°æ—¥æœŸï¼Œé‡‡ç”¨é¦–æ¬¡ git commit æ—¥æœŸä½œä¸ºæ–‡æ¡£çš„åˆ›å»ºæ—¥æœŸï¼Œ`git-revision-date-localized` å°±æ˜¯è¿™ä¹ˆåšçš„ï¼ˆè¿™ç§æ–¹å¼ï¼Œå­˜åœ¨ä¸€å®šçš„è¯¯å·®ä¸”æ— æ³•åœ¨æ— Gitç¯å¢ƒä¸­ä½¿ç”¨ï¼‰
        - æ–¹æ³• 2ï¼Œå¯ä»¥æå‰ç¼“å­˜åŸå§‹æ—¥æœŸï¼Œåç»­è¯»ç¼“å­˜å°±å¯ä»¥äº†ï¼ˆæ—¥æœŸå‡†ç¡®ä¸”ä¸ä¾èµ–ä»»ä½•ç¯å¢ƒï¼‰ã€‚ç¼“å­˜çš„åœ°æ–¹ï¼Œå¯ä»¥æ˜¯æºæ–‡æ¡£çš„ Front Matter ä¸­ï¼Œä¹Ÿå¯ä»¥æ˜¯å•ç‹¬çš„æ–‡ä»¶ï¼Œæˆ‘é€‰æ‹©äº†åè€…ã€‚å­˜å‚¨åœ¨ Front Matter ä¸­éå¸¸åˆç†ä¸”æ›´ç®€å•ï¼Œä½†æ˜¯è¿™æ ·ä¼šä¿®æ”¹æ–‡æ¡£çš„æºå†…å®¹ï¼Œè™½ç„¶å¯¹æ­£æ–‡æ— ä»»ä½•å½±å“ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æƒ³ä¿è¯æ•°æ®çš„åŸå§‹æ€§
- **éš¾ç‚¹**ï¼š
    1. ä»€ä¹ˆæ—¶å€™å»è¯»å–å’Œå­˜å‚¨åŸå§‹æ—¥æœŸï¼Ÿè¿™åªæ˜¯ mkdocs çš„ä¸€ä¸ªæ’ä»¶ï¼Œå…¥å£å’Œæƒé™éå¸¸æœ‰é™ï¼Œmkdocs æä¾›çš„åªæœ‰ build å’Œ serveï¼Œé‚£ä¸‡ä¸€ç”¨æˆ·ä¸æ‰§è¡Œ build æˆ– serve è€Œç›´æ¥ commit å‘¢ï¼ˆæ¯”å¦‚ä½¿ç”¨ CI/CD æ„å»ºç³»ç»Ÿæ—¶ï¼‰ï¼Œé‚£æ ·ä½ å°±æ— æ³•è·å–æ–‡ä»¶çš„æ—¥æœŸäº†ï¼Œæ›´åˆ«è¯´ç¼“å­˜äº†
        - ç›´æ¥è¯´ç»“è®ºï¼šåˆ©ç”¨ Git Hooks æœºåˆ¶ï¼Œèƒ½åœ¨ç‰¹å®šçš„ git åŠ¨ä½œå‘ç”Ÿæ—¶è§¦å‘è‡ªå®šä¹‰è„šæœ¬ï¼Œæ¯”å¦‚æ¯æ¬¡ commit æ—¶
    2. å¦‚ä½•è‡ªåŠ¨å®‰è£… Git Hooksï¼Ÿåœ¨ä½•æ—¶ï¼Ÿæ€ä¹ˆè§¦å‘ï¼Ÿé€šè¿‡ pip ä» PyPI å®‰è£…åŒ…å¹¶æ²¡æœ‰æ ‡å‡†çš„ post-install é’©å­æœºåˆ¶
        - æˆ‘çš„æ–¹æ¡ˆï¼šåˆ†æäº† pip ä» PyPI å®‰è£…åŒ…çš„æµç¨‹ï¼Œå‘ç°é€šè¿‡æºç åŒ…ç¼–è¯‘å®‰è£…æ—¶ï¼ˆsdistï¼‰ï¼Œä¼šè°ƒç”¨ setuptools æ¥å¤„ç†ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ setuptools çš„æµç¨‹ä¸­æƒ³åŠæ³•æ¤å…¥å®‰è£…è„šæœ¬ï¼Œå³åœ¨ setup.py ä¸­æ·»åŠ è‡ªå®šä¹‰è„šæœ¬
    3. è·¨å¹³å°çš„ hook æ€ä¹ˆè®¾è®¡ï¼Ÿæ‰§è¡Œ python è„šæœ¬ï¼Œéœ€è¦æ˜ç¡®æŒ‡å®š python è§£é‡Šå™¨ï¼Œè€Œç”¨æˆ·çš„ python ç¯å¢ƒï¼Œå› æ“ä½œç³»ç»Ÿã€python çš„å®‰è£…æ–¹å¼ä»¥åŠé…ç½®çš„ä¸åŒè€Œå„ä¸ç›¸åŒï¼Œå¦‚ä½•æ‰èƒ½ä¿è¯åœ¨æ‰€æœ‰ç¯å¢ƒä¸‹éƒ½èƒ½æ­£å¸¸è¿è¡Œï¼Ÿ
        - è§£å†³åŠæ³•ï¼šä¸è¦åœ¨ hook ä¸­å†å»åˆ¤æ–­ç”¨æˆ·çš„ python ç¯å¢ƒï¼Œå› ä¸ºä¸ºæ—¶å·²æ™šã€‚ä½ å¯ä»¥åœ¨å®‰è£…é’©å­ä¹‹å‰å°±è¿™æ ·åšï¼Œç„¶ååŠ¨æ€è®¾ç½® hook çš„ shebang è¡Œï¼Œä»è€Œè®¾ç½®æ­£ç¡®çš„ python è§£é‡Šå™¨
    4. åœ¨å¤šäººåä½œæ—¶ï¼Œå¦‚ä½•ä¿è¯å•ç‹¬çš„ç¼“å­˜æ–‡ä»¶ä¸å†²çªï¼Ÿ
        - æˆ‘çš„æ–¹æ¡ˆï¼šé‡‡ç”¨ JSONL ä»£æ›¿ JSONï¼Œé…åˆå¹¶é›†çš„åˆå¹¶ç­–ç•¥ `merge=union`
    5. åœ¨æ–‡æ¡£è¾ƒå¤šæ—¶( > 200 )ï¼Œå¦‚ä½•é™ä½ build ç”¨æ—¶ï¼Ÿé€šå¸¸æ¯æ¬¡è·å– git ä¿¡æ¯éƒ½æ˜¯ä¸€æ¬¡æ–‡ä»¶ I/O æ“ä½œï¼Œå¦‚æœæ–‡ä»¶è¾ƒå¤šï¼Œå°±ä¼šå¤§å¤§å½±å“æ„å»ºé€Ÿåº¦ï¼Œè¿™è®©ç”¨æˆ·æ²¡æ³•å¿å—ï¼ˆæ¯”å¦‚ï¼Œ`git-revision-date-localized` åªèƒ½é€šè¿‡æ·»åŠ ç¯å¢ƒå˜é‡ `enabled: !ENV` åœ¨æœ¬åœ°ç¦ç”¨è‡ªå·±æ¥æé«˜é¢„è§ˆé€Ÿåº¦ï¼Œè¿™æœ‰ç‚¹æ©è€³ç›—é“ƒçš„æ„Ÿè§‰ï¼‰
        - è§£å†³åŠæ³•ï¼šå‡å°‘ I/O æ¬¡æ•° + æ›¿æ¢è¿è¡Œæ•ˆç‡è¾ƒä½çš„ç³»ç»Ÿå‡½æ•°
- **ç²¾è¿›**ï¼š
    - æ—¢ç„¶æ˜¯æ–°å¼€å‘çš„æ’ä»¶ï¼Œé‚£å°±å¥”ç€**ä¼˜ç§€äº§å“**çš„æ–¹å‘å»è®¾è®¡ï¼Œè¿½æ±‚æè‡´çš„**æ˜“ç”¨æ€§ã€ç®€æ´æ€§ã€ä¸ªæ€§åŒ–ã€æ™ºèƒ½åŒ–**
        - **æ˜“ç”¨æ€§**ï¼šæ— å¤æ‚é…ç½®ï¼Œå¸¸ç”¨çš„é…ç½®é¡¹ä¹Ÿå°± 2-3 æ¡ï¼Œå¦å¤–ä¸ºä¸ªæ€§åŒ–é…ç½®æä¾›äº†æ¨¡æ¿
        - **ç®€æ´æ€§**ï¼šæ— ä»»ä½•ä¸å¿…è¦çš„é…ç½®ï¼Œæ—  Git ä¾èµ–ï¼Œæ—  CI/CD é…ç½®ä¾èµ–ï¼Œæ— å…¶ä»–åŒ…ä¾èµ–
        - **ä¸ªæ€§åŒ–**ï¼šå¯å®Œå…¨è‡ªå®šä¹‰æ’ä»¶ï¼Œå®Œå…¨æŒæ§æ¸²æŸ“é€»è¾‘ï¼Œæ’ä»¶åªè´Ÿè´£æä¾›æ•°æ®
        - **æ™ºèƒ½åŒ–**ï¼šæ™ºèƒ½è§£ææ–‡æ¡£æ—¥æœŸã€ä½œè€…ã€å¤´åƒï¼Œæ™ºèƒ½è¯†åˆ«ç”¨æˆ·è¯­è¨€å¹¶è‡ªåŠ¨é€‚é…ï¼Œæ­¤å¤–ï¼Œè¿˜æœ‰è‡ªåŠ¨å®‰è£… Git Hooksã€è‡ªåŠ¨ç¼“å­˜ã€è‡ªåŠ¨ commit ç­‰
        - **å…¼å®¹æ€§**ï¼šå…¼å®¹æ—§ç‰ˆæ“ä½œç³»ç»Ÿå’Œæµè§ˆå™¨ï¼Œå¦‚ WIN7ã€MacOS 10.11ã€iOS 12ã€Chrome 63.0.3239
- **æœ€åçš„ç§˜å¯†ç§˜å¯† ğŸ¤**ï¼š
    - ç¼–ç¨‹æ˜¯çˆ±å¥½ï¼Œæˆ‘æ˜¯ä¸€åä»ä¸šå…«å¹´çš„å¸‚åœºè¥é”€äººå‘˜ï¼ˆæ¬¢è¿ç•™è¨€ï¼‰